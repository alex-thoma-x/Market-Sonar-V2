{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  {% if messages %}
        {% for message in messages %}
          <script> alert('Username already exist'); </script>
        {% endfor %}
  {% endif %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signup Form</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100&family=Poppins:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/formstyle.css' %}">
    <script type="text/javascript">
      function validate() {
            var name = document.myform.name.value;            
            var email = document.myform.email.value;
            var mobile = document.myform.mob.value;
            var uname = document.myform.uname.value;
            var pwd = document.myform.pass.value;
            var cpwd = document.myform.pass1.value;
            
            var pwd_expression = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;
            var letters = /^[A-Za-z]+$/;
            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            var phoneno = /^\d{10}$/;


            if (name == '') {
                alert('Please enter your name');
                return false;
            } else if (!letters.test(name)) {
                alert('Name must contain alphabet characters only');
                return false;
            } 
            else if (email == '') {
                alert('Please enter your user email id');
                return false;
            } else if (!filter.test(email)) {
                alert('Invalid email');
                return false;
            } else if (mobile == '') {
                alert('Please enter the mobile number.');
                return false;
            } else if (!phoneno.test(mobile)) {
                alert('Invalid Phoneno');
                return false;
            } else if (uname == '') {
                alert('Please enter the username.');
                return false;
            } else if (pwd == '') {
                alert('Please enter your Password');
                return false;
            } else if (!pwd_expression.test(pwd)) {
                alert('7 to 15 characters which contain at least one numeric digit and a special character  are required in Password filed');
                return false;
            } else if (cpwd == '') {
                alert('Enter Confirm Password');
                return false;
            } else if (pwd != cpwd) {
                alert('Password not Matched');
                return false;
            } else {
                alert('Registration Sucessfully');
            }
            return (true);

        }
  </script>
</head>

<body>
    <main>
        <div class="box">
            <div class="inner-box">
                <div class="column-1">
                    <img src="{% static 'image/logo.png' %}" alt="" class="logo">
                    <div class="desc">
                    Market Sonar
                    </div>
                    <img src="{% static 'image/initial.png' %}" alt="" class="image">
                </div>
                <div class="column-2">
                    <form class="form"  name="myform" action="{% url 'home:Register' %}" method="POST" onsubmit="return(validate());">
                        {% csrf_token %}
                        
                        <h3>create account</h3>
                        <div class="inputs">
                            <div class="input-field">
                                <input type="text" class="input" placeholder="Name"  name="name">
                            </div>
                             <div class="input-field">
                                <input type="email" class="input" placeholder="Email"  name="email">
                            </div>
                            <div class="input-field">
                                <input type="text" class="input" placeholder="Mobile"  name="mob">
                            </div>
                            <div class="input-field">
                                <input type="text" class="input" placeholder="Username"  name="uname">
                            </div>
                            <div class="input-field">
                                <input type="password" class="input pass" placeholder="Password"  name="pass">
                            </div>
                            <div class="input-field">
                                <input type="password" class="input pass" placeholder="Confirm Password"  name="pass1">
                            </div>
                            <input type="submit" value="submit" class="btn-create" name="submit">
                        </div>

                        <div class="login">Already a User
                            <a href="{% url 'home:Login' %}">Login Here</a>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </main>
    <script src="{% static 'js/form.js' %}"></script>
</body>
</html>